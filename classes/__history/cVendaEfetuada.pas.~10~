unit cVendaEfetuada;

interface

uses
  System.Classes, Vcl.Controls, Vcl.ExtCtrls, Vcl.Dialogs, System.SysUtils, datamodule, Data.DB, cCliente;

type
  TcVendaEfetuada = class
  private
    FId: Integer;
    FIdProduto: Integer;
    FQuantidade: Integer;
    FPrecoTotalCompra: Double;
    FCpfCliente: string;

  public
    property Id: Integer read FId write FId;
    property IdProduto: Integer read FIdProduto write FIdProduto;
    property Quantidade: Integer read FQuantidade write FQuantidade;
    property PrecoTotalCompra: Double read FPrecoTotalCompra write FPrecoTotalCompra;
    property cpfCliente: string read FCpfCliente write FCpfCliente;

    procedure Insert(idProduto: integer; quantidade: integer; valorPrecoTotal: double; cpfCliente: string);

  end;

implementation

procedure TcVendaEfetuada.Insert
  (idProduto: integer; quantidade: integer; valorPrecoTotal: double; cpfCliente: string);
  begin
    with uDataModule.qryVendaEfetuadaInsert do
      begin

        Close;
        Parameters.ParamByName('id_produto').Value := idProduto;
        Parameters.ParamByName('quantidade').Value := quantidade;
        Parameters.ParamByName('valor_total_compra').Value := valorPrecoTotal;
        Parameters.ParamByName('cpf_cliente').Value := cpfCliente;
        ExecSQL;

      end;
  end;

end.

