CREATE TABLE produto (
    id INT IDENTITY(1,1) PRIMARY KEY,
    nome_produto VARCHAR(50) NOT NULL,
    preco DECIMAL(10,2) NOT NULL,
    quantidade INT NOT NULL,
    foto_produto VARBINARY(MAX),
    id_categoria INT,  
    CONSTRAINT FK_produto_categoria
    FOREIGN KEY (id_categoria) REFERENCES categoria(id_categoria)
);


CREATE TABLE venda (
    id INT IDENTITY(1,1) PRIMARY KEY,
    data_venda DATE NOT NULL,
    produto_id INT NOT NULL,
    quantidade INT NOT NULL,
    cpf VARCHAR(11) NOT NULL,
    valor_unitario DECIMAL(10,2) NOT NULL,
    valor_total AS (quantidade * valor_unitario) PERSISTED,
    CONSTRAINT fk_venda_produto FOREIGN KEY (produto_id) REFERENCES produto(id)
);

CREATE TABLE categoria (
    id_categoria INT PRIMARY KEY IDENTITY(1,1),
    nome_categoria VARCHAR(100) NOT NULL
);


INSERT INTO produto
(nome_produto, preco, quantidade)
VALUES
('l√°pis', 2.00, 100);